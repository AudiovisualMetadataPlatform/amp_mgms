<tool id="contact_sheet_shot" name="Contact Sheet via Shot" version="1.0.0">
  <description>Generate contact sheet based on shot detection</description>
  <requirements>
	<requirement type="package" version="3.8">python</requirement>
    <requirement type="package" version="8.30">coreutils</requirement>
    <requirement type="package" version="0.1.18">ffmpeg-python</requirement>
    <requirement type="package" version="8.0.1">pillow</requirement>
  </requirements>
  <command detect_errors="exit_code">
  	'$__tool_directory__/mgm_python.sif' '$__tool_directory__/contact_sheet_shot.py' '$input_video' '$amp_shots' '$contact_sheet' --columns '$columns' --width '$width' --margin '$margin' --padding '$padding'
  </command>
  <inputs>
	<param name="input_video" type="data" format="video" label="Input Video" help="Input video file"/>
	<param name="amp_shots" type="data" format="shot" label="AMP Shots" help="AMP Shots file from shot detection"/>
	<param name="columns" type="integer" optional="true" min="0" value="4" label="Thumbnail Columns" help="columns of thumbnails per row"/>
	<param name="width" type="integer" optional="true" min="0" value="300" label="Thumbnail Width" help=" Width of thumbnail image"/>
	<param name="margin" type="integer" optional="true" min="0" value="10" label="Thumbnail Margin" help="Margin around each thumbnail"/>
	<param name="padding" type="integer" optional="true" min="0" value="3" label="Thumbnail Padding" help="Padding around each thumbnail"/>
  </inputs>
  <outputs>
    <data name="contact_sheet" format="png" label="Contact Sheet"/>
  </outputs>
  <tests>
  </tests>
  <help>
.. class:: infomark

  Generate contact sheet containing thumbnails of the frames with shot detected from the video.
  </help>
</tool>
