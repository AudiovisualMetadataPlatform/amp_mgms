<tool id="supplement" name="Input Supplement" version="1.0.0">
  <description>Specify a workflow input as a supplement file by its name plus type or file path </description>
  <requirements>
  </requirements>
  <command detect_errors="exit_code">
	<![CDATA[
		rm -f '$file';
		ln -s '$path' '$file'
	]]>
  </command>
  <inputs>
    <param name="name" type="text" label="Name" help="Name of the supplement"/>
    <!-- 
    <param name="type" type="select" label="Type" help="Type/level of the parent data entity associated with the supplement">   
	  <option value="U">Unit</option>
	  <option value="C">Collection</option>
	  <option value="I">Item</option>
	  <option value="P">Primaryfile</option>
    </param>
    -->
    <param name="category" type="select" label="Category" help="Category/purpose of the supplement">  
    <!-- value set must match amppd.supplementCategories --> 
	  <option value="F">FacePhoto</option>
	  <option value="G">Groundtruth</option>
	  <option value="R">RecitalProgram</option>
	  <option value="O">Other</option>
    </param>
    <param name="format" type="select" label="Format" help="File format/extension of the supplement">   
	  <option value="txt">txt</option>
	  <option value="csv">csv</option>
	  <option value="pdf">pdf</option>
	  <option value="zip">zip</option>
    </param>
    <param name="path" type="text" label="Path" help="Absolute file path of the supplement (inferred by AMP from name plus type)"/>   
  </inputs>
  <outputs>
    <data name="file" format="data" label="File" help="A soft link pointing to the absolute path of the supplement">
      <change_format>
        <when input="format" value="txt" format="txt" />
        <when input="format" value="csv" format="csv" />
        <when input="format" value="pdf" format="pdf" />
        <when input="format" value="zip" format="zip" />
      </change_format>
    </data>
  </outputs>
  <tests>
  </tests>
  <help>
.. class:: infomark

Provide a workflow input as a supplement file by generating a soft link to its original file path inferred by AMP based on its category and format, and optionally its name.

  </help>
</tool>
