- name: Azure Video Indexer
  tool: azure_video_indexer.xml
  inputs:
    input_video: video.m4v
  outputs:
    azure_video_index: 
      - {test: magic, mime: text/plain}
      - {test: json, path: state, value: Processed}
      - {test: json, path: summarizedInsights/faces/i0/name, value: David Byrne}
    azure_artifact_ocr:
      - {test: magic, mime: text/plain}
      - {test: strings, strings: [A FILM ABOUT A, BUNCH OF PEOPLE, IN VIRGIL TEXAS.]}
  params:
    include_ocr: "true"
    location: eastus2

- name: Azure Video OCR
  tool: azure_video_ocr.xml  
  inputs: 
    input_video: video.m4v
    azure_video_index: azure_video_index.json
    azure_artifact_ocr: azure_artifact_ocr.json
  outputs:
    amp_vocr:
      - {test: magic, mime: text/plain}
      - {test: strings, strings: [frames, media, duration, resolution]}
      
- name: Azure Shot Detection
  tool: azure_shot_detection.xml
  inputs:
    input_video: video.m4v
    azure_video_index: azure_video_index.json
  outputs:
    amp_shots:
      - {test: magic, mime: text/plain}
      - {test: json, path: shots/i0/type, value: shot}
      - {test: json, path: shots/i0/start, value: "0.0"}